log_json = true
log_level = "info,rbuilder=debug"
redacted_telemetry_server_port = 6061
redacted_telemetry_server_ip = "0.0.0.0"
full_telemetry_server_port = 6060
full_telemetry_server_ip = "0.0.0.0"

chain = "mainnet"
reth_datadir = "/mnt/data/reth"

coinbase_secret_key = "env:COINBASE_SECRET_KEY"

cl_node_url = ["http://localhost:3500"]
jsonrpc_server_port = 8645
jsonrpc_server_ip = "0.0.0.0"
el_node_ipc_path = "/tmp/reth.ipc"
extra_data = "âš¡ðŸ¤–"

blocklist_file_path = "./blocklist.json"

dry_run = true
dry_run_validation_url = "http://localhost:8545"

blocks_processor_url = "http://block_processor.internal"
ignore_cancellable_orders = true

sbundle_mergeabe_signers = []
# slot_delta_to_start_submits_ms is usually negative since we start bidding BEFORE the slot start
#slot_delta_to_start_submits_ms = -5000
live_builders = ["mp-ordering", "mgp-ordering", "merging"]

top_bid_ws_url = "env:TOP_BID_WS_URL"
top_bid_ws_basic_auth = "env:TOP_BID_WS_BASIC_AUTH"
max_concurrent_seals = 4

# Uncomment this line and remove the [bidding_service] for external bidding service
#bidding_service_ipc_path = "/tmp/rpc_bidding_server.sock"

[tbv_push_redis]
url = "env:BIDDING_REDIS_URL"
channel = "best_true_value"

[bidding_service]
coinbase_payment_threshold_eth = "0.01"
take_profit_percentage = 5

[bidding_service.subsidy_config]
over_bid_delta_eth = "0.00017"
slot_delta_to_start_subsidy_ms = -1000
cfg_timestamp_change = "2024-07-11T15:54:22Z"

subsidize_mode = "Forced"

all_blocks_max_true_block_value_eth = "0.04"
all_blocks_max_subsidy_eth = "0.0015"
forced_blocks_max_subsidy_eth = "0.002"

max_subsidy_per_block_eth = "0.002"
min_builder_balance_eth = "1.1"
max_subsidy_window_val_eth = "1"
max_subsidy_window_size_minutes = 120


[[relays]]
name = "flashbots"
url = "https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net"
priority = 0
use_ssz_for_submit = false
use_gzip_for_submit = false

[[builders]]
name = "mgp-ordering"
algo = "ordering-builder"
discard_txs = true
sorting = "mev-gas-price"
failed_order_retries = 1
drop_failed_orders = true

[[builders]]
name = "mp-ordering"
algo = "ordering-builder"
discard_txs = true
sorting = "max-profit"
failed_order_retries = 1
drop_failed_orders = true

[[builders]]
name = "merging"
algo = "merging-builder"
discard_txs = true
num_threads = 5
merge_wait_time_ms = 100
